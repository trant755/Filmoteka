{"mappings":"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","sources":["node_modules/@swc/helpers/lib/_class_call_check.js","node_modules/@swc/helpers/lib/_create_class.js","src/js/local-storage-api/local-storage-api.js","<<jsx-config-pragma.js>>","src/js/refs.js","src/js/watchedQueue.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classCallCheck;\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _createClass;\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\n","const GENERS_KEY = 'savedGenresId';\nconst TRENDING_KEY = 'savedTrendingCurentPage';\nconst WATCHED_KEY = 'savedWatched';\nconst QUEUE_KEY = 'savedQueue';\n\nexport default class localStorageAPI {\n  constructor() {}\n\n  // ======= GENERS =====\n  saveGenersLS(data) {\n    let genersJSON = localStorage.getItem(GENERS_KEY);\n\n    if (!genersJSON) {\n      let genres = JSON.stringify(data);\n      localStorage.setItem(GENERS_KEY, genres);\n    }\n  }\n\n  getGeneresLS() {\n    let genersJSON = localStorage.getItem(GENERS_KEY);\n    if (genersJSON) {\n      return JSON.parse(genersJSON);\n    }\n  }\n\n  removeGeneresLS() {\n    localStorage.removeItem(GENERS_KEY);\n  }\n\n  // ======= TRENDING =======\n\n  saveTrendingCurentPage(data) {\n    let currentTrending = JSON.stringify(data);\n    localStorage.setItem(TRENDING_KEY, currentTrending);\n  }\n\n  getTrendingCurentPage() {\n    const trendingCurentPage = localStorage.getItem(TRENDING_KEY);\n    return JSON.parse(trendingCurentPage);\n  }\n\n  getTrendingFilmById(id) {\n    let trendingCurentPage = this.getTrendingCurentPage();\n    return trendingCurentPage?.find(film => film.id === id);\n    console.log('film: ', film);\n  }\n\n  removeTrendingCurentPage() {\n    localStorage.removeItem(TRENDING_KEY);\n  }\n\n  // ======= WATCHED =======\n\n  saveFilmToWathched(data) {\n    let watchedLs = localStorage.getItem(WATCHED_KEY);\n    let watched =\n      !watchedLs || watchedLs.length === 0 ? [] : JSON.parse(watchedLs);\n    if (!data) return console.log('нима data');\n\n    watched.push(data);\n    localStorage.setItem(WATCHED_KEY, JSON.stringify(watched));\n  }\n\n  getFilmsFromWatched() {\n    let watchedLs = localStorage.getItem(WATCHED_KEY);\n    if (watchedLs) {\n      return JSON.parse(watchedLs);\n    }\n  }\n\n  getFilmFromWathedById(id) {\n    let savedWatched = this.getFilmsFromWatched();\n    return savedWatched?.find(film => film.id === id);\n  }\n\n  removeFilmFromWatched(id) {\n    let savedWatched = this.getFilmsFromWatched();\n\n    let filmToREmove = savedWatched.findIndex(film => film.id === id);\n    savedWatched.splice(filmToREmove, 1);\n\n    localStorage.setItem(WATCHED_KEY, JSON.stringify(savedWatched));\n  }\n\n  removeSaveWatchedFilms() {\n    localStorage.removeItem(WATCHED_KEY);\n  }\n\n  // ======== QUEUE =======\n\n  saveFilmToQueue(data) {\n    let queueLs = localStorage.getItem(QUEUE_KEY);\n    let queue = !queueLs || queueLs.length === 0 ? [] : JSON.parse(queueLs);\n    if (!data) return console.log('нима data');\n\n    queue.push(data);\n    localStorage.setItem(QUEUE_KEY, JSON.stringify(queue));\n  }\n\n  getFilmsFromQueue() {\n    let queueLs = localStorage.getItem(QUEUE_KEY);\n    if (queueLs) {\n      return JSON.parse(queueLs);\n    }\n  }\n\n  getFilmFromQueueById(id) {\n    let savedQueue = this.getFilmsFromQueue();\n    return savedQueue?.find(film => film.id === id);\n  }\n\n  removeFilmFromQueue(id) {\n    let savedQueue = this.getFilmsFromQueue();\n\n    let filmToREmove = savedQueue.findIndex(film => film.id === id);\n    savedQueue.splice(filmToREmove, 1);\n\n    localStorage.setItem(QUEUE_KEY, JSON.stringify(savedQueue));\n  }\n\n  removeSaveWatchedFilms() {\n    localStorage.removeItem(QUEUE_KEY);\n  }\n}\n",null,"export const refs = {\n  paginationContainer: document.querySelector('.tui-pagination'),\n  trandingContainer: document.querySelector('#movie-container'),\n  searchInput: document.querySelector('.header-search-form'),\n  SearchErrMessage: document.querySelector('.header-message'),\n  watched: document.querySelector('.library--btn__watched'),\n  queue: document.querySelector('.library--btn__queue'),\n  movieContentBlock: document.querySelector('.no-movie'),\n};\n","import localStorageApi from './local-storage-api/local-storage-api';\nconst LS_API = new localStorageApi();\nimport { refs } from './refs';\n\nrefs.watched.addEventListener('click', onClickWatched);\nrefs.queue.addEventListener('click', onClickQueue);\n\nconsole.log(refs.movieContentBlock);\n\nlet currentPage = '';\n\nonClickWatched();\n\nfunction onClickWatched() {\n  currentPage = 'watched';\n  refs.watched.classList.add('library--btn--active');\n  refs.queue.classList.remove('library--btn--active');\n\n  if (LS_API.getFilmsFromWatched() && LS_API.getFilmsFromWatched.length > 0) {\n    clearMoviesContainer();\n    refs.movieContentBlock.classList.add('none');\n  } else {\n    refs.movieContentBlock.classList.remove('none');\n  }\n}\n\nfunction onClickQueue() {\n  currentPage = 'queue';\n  refs.watched.classList.remove('library--btn--active');\n  refs.queue.classList.add('library--btn--active');\n\n  if (LS_API.getFilmsFromQueue && LS_API.getFilmsFromQueue.length > 0) {\n    clearMoviesContainer();\n    refs.movieContentBlock.classList.add('none');\n  } else {\n    refs.movieContentBlock.classList.remove('none');\n  }\n}\n\nfunction clearMoviesContainer() {\n  refs.trandingContainer.innerHTML = '';\n}\n"],"names":["Object","defineProperty","$665014edacbfe17b$exports","value","default","instance","Constructor","TypeError","$74e7f8130373505f$var$_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","$74e7f8130373505f$exports","protoProps","staticProps","prototype","$66c2bcbb2aca7ab0$var$GENERS_KEY","$66c2bcbb2aca7ab0$var$TRENDING_KEY","$66c2bcbb2aca7ab0$var$WATCHED_KEY","$66c2bcbb2aca7ab0$var$QUEUE_KEY","$66c2bcbb2aca7ab0$export$2e2bcd8739ae039","localStorageAPI","data","localStorage","getItem","genres","JSON","stringify","setItem","genersJSON","parse","removeItem","currentTrending","trendingCurentPage","id","this","getTrendingCurentPage","find","film","watchedLs","watched","console","log","push","savedWatched","getFilmsFromWatched","filmToREmove","findIndex","splice","queueLs","queue","savedQueue","getFilmsFromQueue","$37e33676934ad046$export$21666b427502ea6d","paginationContainer","document","querySelector","trandingContainer","searchInput","SearchErrMessage","movieContentBlock","$95f8f2e3941cf4cf$var$LS_API","addEventListener","$95f8f2e3941cf4cf$var$onClickWatched","classList","remove","add","$95f8f2e3941cf4cf$var$clearMoviesContainer","innerHTML"],"version":3,"file":"library.9a5ea5c6.js.map"}