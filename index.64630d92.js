function e(e,t,s,n){Object.defineProperty(e,t,{get:s,set:n,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},i=s.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var s={id:e,exports:{}};return n[e]=s,t.call(s.exports,s,s.exports),s.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},s.parcelRequired7c6=i),i.register("kyEFX",(function(t,s){var n,r;e(t.exports,"register",(function(){return n}),(function(e){return n=e})),e(t.exports,"resolve",(function(){return r}),(function(e){return r=e}));var i={};n=function(e){for(var t=Object.keys(e),s=0;s<t.length;s++)i[t[s]]=e[t[s]]},r=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),i("kyEFX").register(JSON.parse('{"5ZPII":"index.64630d92.js","ehxus":"arrowssprite.6a2c4930.svg","b9auz":"index.7306024c.js"}'));var a=i("krGWQ");var o,c=i("5eWcy"),u=i("2pdLV"),d=i("fb9GJ");const l={totalItems:2e4,itemsPerPage:20,visiblePages:5,page:1,centerAlign:!0,usageStatistics:!1,template:{page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn tui-is-selected">{{page}}p</strong>',currentPage:'<a href="#" class="tui-page-btn tui-is-selected">{{page}}</a>',moveButton:`<a href="#" class="tui-page-btn tui-{{type}} hide-{{type}}"><svg class="tui-ico-{{type}}" width="16" height="16"><use href="${`${t(o=new URL(i("kyEFX").resolve("ehxus"),import.meta.url).toString())}#icon-arrow`}-{{type}}"></use></svg></a>`,disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></span>',moreButton:`<a href="#" class="tui-page-btn tui-{{type}}-is-ellip change-{{type}}"><svg class="tui-ico-ellip" width="14" height="14"><use href="${`${t(o)}#icon-dots`}"></use></svg></a>`}},g=new class{fetchGenres(){return fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=8a38092ae2d24fc685ebce0502669b7c&language=en-US").then((e=>{if(!e.ok)throw new Error(e.status);return e.json()})).catch((e=>{}))}fetchTrending(){return fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=8a38092ae2d24fc685ebce0502669b7c&page=${this.page}`).then((e=>{if(!e.ok)throw new Error(e.status);return e.json()})).catch((e=>{}))}fetchMovies(){return fetch(`https://api.themoviedb.org/3/search/movie?api_key=8a38092ae2d24fc685ebce0502669b7c&query=${this.needToFind}&page=${this.page}`).then((e=>{if(!e.ok)throw new Error(e.status);return e.json()})).catch((e=>{console.log("Error on try...catch",e)}))}addMoviesPage(e){this.page=e}resetMoviesPage(){this.page=1}get query(){return this.needToFind}set query(e){this.needToFind=e}constructor(){this.needToFind="",this.page=1}},p=new(0,c.default);let f="";a.refs.searchInput.addEventListener("submit",(async function(e){if(e.preventDefault(),g.query=e.currentTarget.elements.searchQuery.value,""===g.query)return;g.resetMoviesPage(),a.refs.loader.classList.remove("is-hidden"),await b(),a.refs.SearchErrMessage.classList.contains("is-hidden")&&h.reset();a.refs.loader.classList.add("is-hidden")}));const h=new(t(d))(a.refs.paginationContainer,l);function y(){g.fetchTrending().then((({results:e,total_results:t})=>{h.setTotalItems(t),(0,u.onMarkupCards)(e,a.refs.trandingContainer),p.saveTrendingCurentPage(e),a.refs.loader.classList.add("is-hidden")}))}function v(){a.refs.trandingContainer.innerHTML=""}async function b(){const e=await g.fetchMovies();if(0===e.results.length)return a.refs.SearchErrMessage.classList.remove("is-hidden"),void(g.query=f);a.refs.SearchErrMessage.classList.add("is-hidden"),f=g.query,h.setTotalItems(e.total_results),v(),g.resetMoviesPage(),(0,u.onMarkupCards)(e.results,a.refs.trandingContainer),p.saveTrendingCurentPage(e.results),function(e){1===e.total_pages?a.refs.paginationContainer.style.display="none":"none"===a.refs.paginationContainer.style.display&&a.refs.paginationContainer.removeAttribute("style")}(e)}a.refs.loader.classList.remove("is-hidden"),function(){p.getGeneresLS()||g.fetchGenres().then(p.saveGenersLS);y()}(),a.refs.paginationContainer.addEventListener("click",(function(e){if(!e.target.classList.contains("tui-page-btn")||e.target.classList.contains("tui-is-selected")||e.target.classList.contains("tui-is-disabled"))return;v();const t=h.getCurrentPage();g.addMoviesPage(t),""===g.query?y():""!==g.query&&b()}));const w=document.querySelector(".button-to-top"),m=document.querySelector(".to-top-icon");w.addEventListener("click",(function(){window.scrollTo(0,0)})),window.onscroll=function(){document.body.scrollTop>700||document.documentElement.scrollTop>700?(w.style.visibility="visible",m.style.opacity=1,w.style.opacity=1):(w.style.visibility="hiden",m.style.opacity=0,w.style.opacity=0)},i("5eWcy"),i("1wewW");
//# sourceMappingURL=index.64630d92.js.map
